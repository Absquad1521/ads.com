<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ABN TOPUP CENTRE - SL</title>
    <style>
        :root {
            --bg: #0a0118;
            --purple: #6a00f4;
            --pink: #ff00cc;
            --blue: #00d4ff;
            --glass: rgba(255, 255, 255, 0.07);
        }

        body {
            background: var(--bg);
            color: white;
            font-family: 'Segoe UI', sans-serif;
            margin: 0;
            padding-bottom: 50px;
        }

        header {
            text-align: center;
            padding: 30px;
            background: linear-gradient(to bottom, #1a0033, var(--bg));
            border-bottom: 2px solid var(--pink);
        }

        h1 { margin: 0; color: var(--blue); letter-spacing: 2px; }
        .sub { color: var(--pink); font-size: 0.8rem; font-weight: bold; }

        .container { max-width: 600px; margin: auto; padding: 15px; }

        /* Step Styles */
        .step-card {
            background: var(--glass);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }

        .btn-opt {
            background: rgba(255,255,255,0.1);
            border: 1px solid var(--purple);
            color: white;
            padding: 15px 10px;
            border-radius: 10px;
            cursor: pointer;
            text-align: center;
            transition: 0.3s;
        }

        .btn-opt:hover, .btn-opt.active {
            background: var(--purple);
            box-shadow: 0 0 15px var(--blue);
            border-color: var(--blue);
        }

        input, select {
            width: 100%;
            padding: 12px;
            margin-top: 10px;
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--blue);
            color: white;
            border-radius: 5px;
        }

        .hidden { display: none; }

        .bill-box {
            background: white;
            color: black;
            padding: 15px;
            border-radius: 5px;
            margin-top: 15px;
            font-family: monospace;
        }

        .whatsapp-btn {
            background: #25D366;
            color: white;
            width: 100%;
            padding: 18px;
            border: none;
            border-radius: 50px;
            font-weight: bold;
            font-size: 1.1rem;
            margin-top: 20px;
            cursor: pointer;
        }
    </style>
</head>
<body>

<header>
    <h1>ABN TOPUP CENTRE</h1>
    <div class="sub">TOPUP THE FEATURES NOW</div>
</header>

<div class="container">
    
    <div class="step-card">
        <h3>1. Customer Details</h3>
        <input type="text" id="cust-name" placeholder="Your Name">
        <input type="text" id="cust-phone" placeholder="Contact No (e.g. 077...)">
        <input type="email" id="cust-email" placeholder="Email Address">
    </div>

    <div class="step-card">
        <h3>2. Select Game</h3>
        <div class="grid">
            <div class="btn-opt" onclick="selectGame('Free Fire')">FREE FIRE</div>
            <div class="btn-opt" onclick="selectGame('PUBG')">PUBG</div>
        </div>
    </div>

    <div id="step-product" class="step-card hidden">
        <h3>3. Select Category</h3>
        <div class="grid">
            <div class="btn-opt" onclick="selectCat('Memberships')">Memberships</div>
            <div class="btn-opt" onclick="selectCat('Diamonds')">Diamonds</div>
            <div class="btn-opt" onclick="selectCat('FF Likes')">FF Likes</div>
            <div class="btn-opt" onclick="selectCat('Level Up Pass')">Level Up Pass</div>
        </div>
    </div>

    <div id="step-packages" class="step-card hidden">
        <h3>4. Select Package</h3>
        <div id="package-list" class="grid"></div>
        
        <div style="margin-top:20px;">
            <label>Quantity (Count):</label>
            <input type="number" id="item-count" value="1" min="1" onchange="updateBill()">
        </div>
    </div>

    <div class="step-card">
        <h3>5. Payment Method</h3>
        <select id="pay-method" onchange="updateBill()">
            <option value="EZCASH">EZCASH</option>
            <option value="BANK PAYMENT">BANK PAYMENT</option>
            <option value="CASH">CASH</option>
        </select>
    </div>

    <div id="bill-preview" class="step-card hidden">
        <h3>Order Summary (Bill)</h3>
        <div class="bill-box" id="bill-text"></div>
        <button class="whatsapp-btn" onclick="sendToWhatsApp()">SEND ORDER VIA WHATSAPP</button>
    </div>

</div>

<script>
    let order = { game: "", category: "", package: "", price: 0, total: 0 };

    const prices = {
        "Weekly Membership": 500,
        "Weekly Lite Membership": 130,
        "Monthly Membership": 2350,
        "100 Diamonds": 350,
        "Level Up Pass": 450,
        "100 Likes": 150
    };

    function selectGame(game) {
        order.game = game;
        document.getElementById('step-product').classList.remove('hidden');
        setActive(event);
    }

    function selectCat(cat) {
        order.category = cat;
        const pkgDiv = document.getElementById('package-list');
        pkgDiv.innerHTML = '';
        document.getElementById('step-packages').classList.remove('hidden');

        let options = [];
        if(cat === 'Memberships') options = ["Weekly Membership", "Weekly Lite Membership", "Monthly Membership"];
        else if(cat === 'Diamonds') options = ["100 Diamonds", "500 Diamonds"];
        else options = [cat];

        options.forEach(opt => {
            let div = document.createElement('div');
            div.className = 'btn-opt';
            div.innerText = opt;
            div.onclick = () => selectPkg(opt);
            pkgDiv.appendChild(div);
        });
    }

    function selectPkg(pkg) {
        order.package = pkg;
        order.price = prices[pkg] || 500;
        updateBill();
    }

    function updateBill() {
        const count = document.getElementById('item-count').value;
        order.total = order.price * count;
        
        document.getElementById('bill-preview').classList.remove('hidden');
        document.getElementById('bill-text').innerHTML = `
            <b>ABN TOPUP CENTRE</b><br>
            --------------------------<br>
            Customer: ${document.getElementById('cust-name').value}<br>
            Game: ${order.game}<br>
            Item: ${order.package}<br>
            Qty: ${count}<br>
            Payment: ${document.getElementById('pay-method').value}<br>
            --------------------------<br>
            TOTAL: LKR ${order.total}.00
        `;
    }

    function sendToWhatsApp() {
        const name = document.getElementById('cust-name').value;
        const phone = document.getElementById('cust-phone').value;
        const email = document.getElementById('cust-email').value;
        const method = document.getElementById('pay-method').value;
        const count = document.getElementById('item-count').value;

        if(!name || !phone) { alert("Please enter Name and Phone!"); return; }

        let text = `*ABN TOPUP CENTRE ORDER*%0A` +
                   `--------------------------%0A` +
                   `*CUSTOMER DETAILS*%0A` +
                   `Name: ${name}%0A` +
                   `Phone: ${phone}%0A` +
                   `Email: ${email}%0A%0A` +
                   `*ORDER DETAILS*%0A` +
                   `Game: ${order.game}%0A` +
                   `Category: ${order.category}%0A` +
                   `Package: ${order.package}%0A` +
                   `Quantity: ${count}%0A` +
                   `Method: ${method}%0A` +
                   `--------------------------%0A` +
                   `*TOTAL BILL: LKR ${order.total}.00*`;

        window.open(`https://wa.me/94777990902?text=${text}`, '_blank');
    }

    function setActive(e) {
        // Simple visual toggle for buttons
    }
</script>

</body>
</html>
